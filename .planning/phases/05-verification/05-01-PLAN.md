---
phase: 05-verification
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - agents/director-builder.md
  - agents/director-verifier.md
  - agents/director-debugger.md
autonomous: true

must_haves:
  truths:
    - "Builder output includes a parseable verification status line (clean / N found M fixed R remaining)"
    - "Verifier output classifies each 'Needs attention' issue as auto-fixable or needs-human-input"
    - "Debugger output ends with a clear Status line (Fixed / Needs more work / Needs manual attention)"
  artifacts:
    - path: "agents/director-builder.md"
      provides: "Structured verification status in output section"
      contains: "Verification:"
    - path: "agents/director-verifier.md"
      provides: "Auto-fixable classification in output format"
      contains: "auto-fixable"
    - path: "agents/director-debugger.md"
      provides: "Consistent Status line in output"
      contains: "Status:"
  key_links:
    - from: "agents/director-builder.md"
      to: "skills/build/SKILL.md"
      via: "Verification status line parsed by build skill Step 8b"
      pattern: "Verification:"
    - from: "agents/director-verifier.md"
      to: "skills/build/SKILL.md"
      via: "Auto-fixable classification used by build skill to determine what to offer"
      pattern: "auto-fixable"
    - from: "agents/director-debugger.md"
      to: "skills/build/SKILL.md"
      via: "Status line read by build skill auto-fix loop to determine next action"
      pattern: "Status:"
---

<objective>
Update three agent definitions to produce structured output that the build skill and inspect skill can parse and act on.

Purpose: The build skill (Plan 05-02) and inspect skill (Plan 05-03) need to read verification results from agents and make decisions -- surface issues to user, offer auto-fix, determine retry next steps. Currently agent output is unstructured plain text. These updates add consistent, parseable status lines to each agent's output format without changing any agent's core logic.

Output: Updated `agents/director-builder.md`, `agents/director-verifier.md`, `agents/director-debugger.md`
</objective>

<execution_context>
@/Users/noahrasheta/.claude/get-shit-done/workflows/execute-plan.md
@/Users/noahrasheta/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-verification/05-CONTEXT.md
@.planning/phases/05-verification/05-RESEARCH.md
@agents/director-builder.md
@agents/director-verifier.md
@agents/director-debugger.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add structured verification status to builder agent output</name>
  <files>agents/director-builder.md</files>
  <action>
Update the builder agent's Output section to require a verification status line after the plain-language description. Add the following to the Output section, AFTER the existing "What was created or changed" / "How it connects" / "What the user can do" guidance:

Add a new subsection "### Verification Status" with this content:

"After your plain-language description, always include a verification status line. This line is read by the build skill to determine next steps -- it is NOT shown to the user.

- If verification passed with no issues: `Verification: clean`
- If issues were found and all were fixed by you: `Verification: N issues found, all fixed`
- If issues remain after your fixes: `Verification: N issues found, M fixed, R remaining` followed by each remaining issue on its own line, including:
  - Severity: 'Needs attention' or 'Worth checking'
  - Plain-language description of what's wrong
  - Location (file and line if possible)
  - Whether the issue is likely auto-fixable (stubs, wiring, placeholders) or needs human input (missing features, design decisions, architectural changes)"

Also update execution rule 6 to add: "Include remaining issues in your output if you could not resolve them during your verification loop. The build skill will present these to the user."

Do NOT change any other part of the builder agent. The core logic, tools, sub-agents, git rules, language rules, and context sections remain exactly as they are.
  </action>
  <verify>
Read agents/director-builder.md and confirm:
1. Output section contains "Verification Status" subsection
2. Three verification status line formats are documented (clean, all fixed, remaining)
3. Remaining issues include severity, description, location, and auto-fixable classification
4. Rule 6 mentions including remaining issues in output
5. No other sections were modified
  </verify>
  <done>Builder agent output includes structured verification status that the build skill can parse to determine whether to surface issues, offer auto-fix, or proceed silently</done>
</task>

<task type="auto">
  <name>Task 2: Add auto-fixable classification to verifier and status consistency to debugger</name>
  <files>agents/director-verifier.md, agents/director-debugger.md</files>
  <action>
**Verifier (agents/director-verifier.md):**

Update the Output Format section. In the "If issues found" template, after each "Needs attention" item, add an auto-fixable indicator. Update the template to:

"I checked your work and found [N] things that need attention:

1. [Plain-language description]: [Where it is] -- [Why it matters]
   Auto-fixable: yes/no

2. [Plain-language description]: [Where it is] -- [Why it matters]
   Auto-fixable: yes/no

Also worth checking:
- [Plain-language description]: [Where it is]"

Add a short paragraph after the output template explaining the auto-fixable classification:

"Mark an issue as auto-fixable if it falls into these categories: stubs or placeholder content, broken imports or wrong file paths, missing wiring between components, placeholder text in UI. Mark an issue as NOT auto-fixable if it requires: design decisions, new features not in the task scope, architectural changes, or human judgment about intent."

Do NOT change the verifier's detection logic, severity levels, tools, constraints, or any other section.

**Debugger (agents/director-debugger.md):**

The debugger already has a Status line in its Output section ("Status: Fixed / Needs more work / Needs manual attention"). Verify this exists and is correct. If the format matches, no changes needed.

Add one sentence to the Output section after the Status line: "The build skill reads this status to decide whether to retry, move on, or report the issue to the user."

Do NOT change the debugger's investigation process, fix rules, retry context, tools, or any other section.
  </action>
  <verify>
Read agents/director-verifier.md and confirm:
1. Output format includes "Auto-fixable: yes/no" after each "Needs attention" item
2. Classification guidance paragraph exists (what is/isn't auto-fixable)
3. No changes to detection logic, severity levels, or constraints

Read agents/director-debugger.md and confirm:
1. Status line exists with three options (Fixed / Needs more work / Needs manual attention)
2. New sentence about build skill reading the status is present
3. No changes to investigation process, fix rules, or retry context
  </verify>
  <done>Verifier classifies each issue as auto-fixable or not; debugger has consistent status output that the build skill can parse for retry loop decisions</done>
</task>

</tasks>

<verification>
All three agent files have structured output that downstream skills can parse:
- Builder: `Verification: clean` or `Verification: N issues found, M fixed, R remaining` with per-issue details
- Verifier: `Auto-fixable: yes/no` on each "Needs attention" issue
- Debugger: `Status: Fixed / Needs more work / Needs manual attention`

No agent's core detection, investigation, or execution logic was changed -- only output format additions.
</verification>

<success_criteria>
- Builder output section documents three verification status line formats
- Verifier output format includes auto-fixable classification per issue
- Debugger output has consistent Status line with explanatory context
- All three output formats are designed to be parseable by the build skill (Plan 05-02)
- No functional changes to agent logic -- only output format additions
</success_criteria>

<output>
After completion, create `.planning/phases/05-verification/05-01-SUMMARY.md`
</output>
