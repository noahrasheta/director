---
phase: 07-quick-mode-ideas
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/quick/SKILL.md
autonomous: true

must_haves:
  truths:
    - "Running /director:quick with no arguments prompts the user to provide a description"
    - "Running /director:quick with a simple request executes the change immediately with an atomic [quick] commit"
    - "Running /director:quick with a complex request explains why it is complex and suggests /director:blueprint"
    - "Quick mode spawns the builder agent with assembled context and produces a git commit"
    - "Verification and doc sync run conditionally based on change scope"
    - "Quick tasks appear in STATE.md Recent Activity with [quick] marker"
  artifacts:
    - path: "skills/quick/SKILL.md"
      provides: "Complete quick mode execution pipeline with complexity analysis"
      min_lines: 180
  key_links:
    - from: "skills/quick/SKILL.md"
      to: "agents/director-builder.md"
      via: "Task tool spawning with assembled XML context"
      pattern: "director-builder"
    - from: "skills/quick/SKILL.md"
      to: "agents/director-verifier.md"
      via: "Conditional Task tool spawning for Tier 1 verification"
      pattern: "director-verifier"
    - from: "skills/quick/SKILL.md"
      to: "agents/director-syncer.md"
      via: "Conditional Task tool spawning for STATE.md updates"
      pattern: "director-syncer"
---

<objective>
Rewrite the quick skill from a routing placeholder into Director's complete lightweight execution pipeline -- scope-based complexity analysis that gates whether to proceed or escalate, followed by a simplified build flow (context assembly, builder spawning, conditional verification, conditional doc sync, atomic commit with [quick] prefix, STATE.md tracking).

Purpose: This is the first of two "escape hatches" that let users bypass the full planning workflow. Quick mode handles small, focused changes immediately -- the user types a request and it gets done, with the same quality guarantees (atomic commits, optional verification, state tracking) as the build pipeline but without any planning overhead.

Output: A fully rewritten `skills/quick/SKILL.md` that replaces the current 54-line placeholder with a complete execution pipeline.
</objective>

<execution_context>
@/Users/noahrasheta/.claude/get-shit-done/workflows/execute-plan.md
@/Users/noahrasheta/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-quick-mode-ideas/07-CONTEXT.md
@.planning/phases/07-quick-mode-ideas/07-RESEARCH.md

@skills/quick/SKILL.md
@skills/build/SKILL.md
@agents/director-builder.md
@agents/director-verifier.md
@agents/director-syncer.md
@reference/plain-language-guide.md
@reference/terminology.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite quick SKILL.md with complexity analysis and execution pipeline</name>
  <files>skills/quick/SKILL.md</files>
  <action>
Replace the entire content of `skills/quick/SKILL.md` with a complete quick mode execution pipeline. The skill keeps its existing YAML frontmatter (name: quick, description, disable-model-invocation: true) and gets a full rewrite of the body.

The skill follows this step structure (modeled after the build skill but simplified):

**Step 1: Init check**
- Check if `.director/` exists. If not, run `bash ${CLAUDE_PLUGIN_ROOT}/scripts/init-director.sh` silently. Continue.

**Step 2: Check for a task description**
- Look at `$ARGUMENTS`. If empty, prompt the user with an example: "What would you like to change? Try something like: `/director:quick \"change the button color to blue\"`"
- Stop if no arguments.

**Step 3: Analyze complexity (scope-based detection)**
- Read the user's request in `$ARGUMENTS` and assess whether it is appropriate for quick mode.
- Escalation triggers (suggest blueprint): request mentions multiple features ("add login AND a dashboard"), architectural terms ("redesign", "refactor", "overhaul", "restructure"), cross-cutting concerns ("change how all pages handle errors"), new system-level capabilities ("add authentication", "set up payments"), multi-page or multi-system changes ("update the API and the frontend").
- Quick-appropriate indicators (proceed): single-file or single-component changes, cosmetic updates (colors, text, spacing, fonts), small fixes (typo, broken link, wrong value), adding a straightforward element (new button, new field, simple new page), configuration changes.
- If complex: explain WHY it looks complex with a specific reason from the request, then suggest blueprint. Use the tone: "That looks bigger than a quick change -- [specific reason]. Want to plan it out with `/director:blueprint`? Or should I go ahead and try it as a quick task?" Wait for response. If user says go ahead, continue to Step 4.
- If simple: continue to Step 4 silently (no complexity message needed for simple tasks).

**Step 4: Check for uncommitted changes**
- Same pattern as build skill Step 6: run `git status --porcelain`. If uncommitted changes exist, offer to stash, commit, or discard. If no changes, continue silently.

**Step 5: Assemble context**
- Build simplified XML context for the builder. Quick mode assembles LESS context than the build skill:
  - `<vision>`: Read `.director/VISION.md`. If it has real content (not template), include it. If template-only, SKIP this section entirely (quick mode does NOT require a vision).
  - `<task>`: Synthesize a task description from `$ARGUMENTS`. Format: "## Quick Task\n\n**What to do:** [user's request from $ARGUMENTS]\n\n**Scope:** This is a quick change. Focus on the specific request. Don't expand scope."
  - `<recent_changes>`: `git log --oneline -5` (only 5 for quick mode, not 10).
  - `<instructions>`: "Complete this quick change. Focus tightly on the request -- don't expand scope or add unrequested features. Create exactly one git commit when finished with message format: `[quick] [plain-language description]`. The `[quick]` prefix is required. After committing, spawn director-verifier to check for stubs and orphans. Fix any 'needs attention' issues and amend your commit. After verification passes, spawn director-syncer with the task context, a summary of what changed, and a cost_data section. The cost_data section must include: context_chars (total character count of assembled context), goal: 'Quick task' (quick tasks are not attributed to any specific goal)."
- No STEP.md section (quick tasks have no step).
- No context budget calculation needed (quick context is always small).
- Store the total character count of assembled context for cost tracking.

**Step 6: Spawn builder**
- Use the Task tool to spawn `director-builder` with the assembled XML context.
- The builder will implement the change, create a `[quick]` commit, run verification, and run syncer.

**Step 7: Verify builder results**
- Check for a new commit: `git log --oneline -1`. Compare to pre-spawn state.
- If new commit exists: check commit message starts with `[quick]`. Continue to Step 8.
- If no commit: same handling as build skill -- "The change didn't get completed. Want to try again, or describe it differently?"
- Do NOT run separate verification from the skill level -- the builder already handles verification internally. Only check for the commit.

**Step 8: Post-task summary**
- User feedback verbosity (Claude's discretion):
  - For trivial changes (color, text, single value): one-liner. "Done -- [what changed]."
  - For multi-file changes or anything substantial: brief play-by-play. A short paragraph describing what was done + "What changed:" bullet list, same format as build skill Step 10.
- End with: "Progress saved." (No mention of undo per locked decision.)
- Do NOT check for step/goal boundaries (quick tasks are outside the gameplan hierarchy).

**Language reminders section** at the bottom: same language rules as the build skill (Director vocabulary, no git jargon, no file paths in user output, conversational tone). Include `$ARGUMENTS` at the very end.

**Important implementation details:**
- Quick mode does NOT require a vision or gameplan -- it works even on a bare `.director/` project
- The `[quick]` prefix in commit messages is non-negotiable (locked decision)
- Quick tasks tracked equally in STATE.md -- the syncer handles this via the cost_data section with goal "Quick task"
- Never mention `/director:undo` after quick tasks (locked decision)
- Verification depth is Claude's discretion in the instructions to the builder -- for trivial changes the builder can do a lighter check
- Doc sync depth is Claude's discretion -- the syncer decides what to update based on change impact
  </action>
  <verify>
Read `skills/quick/SKILL.md` and verify:
1. YAML frontmatter preserved (name: quick, disable-model-invocation: true)
2. Step 1 has init check with init-director.sh
3. Step 2 checks $ARGUMENTS, prompts if empty
4. Step 3 has scope-based complexity analysis with specific escalation triggers and quick-appropriate indicators
5. Step 3 explains WHY with specific reason, suggests blueprint, offers override
6. Step 4 checks for uncommitted changes (git status --porcelain)
7. Step 5 assembles XML context with vision (optional), synthesized task, git log, instructions
8. Step 5 instructions include [quick] commit prefix requirement
9. Step 5 instructions include cost_data with goal "Quick task"
10. Step 6 spawns director-builder via Task tool
11. Step 7 checks for commit existence
12. Step 8 has variable verbosity (one-liner for trivial, paragraph for substantial)
13. Step 8 ends with "Progress saved." (no undo mention)
14. Language reminders section present
15. $ARGUMENTS at the end
16. File is at least 180 lines
  </verify>
  <done>
The quick skill is a complete execution pipeline: complexity analysis gates requests by scope (not file count), simple requests execute immediately via builder spawning with [quick] commit prefix, complex requests explain why and suggest blueprint with user override, post-task summary adapts verbosity to change scope, and "Progress saved." ends without mentioning undo.
  </done>
</task>

</tasks>

<verification>
- `skills/quick/SKILL.md` exists and is a complete execution pipeline (not a placeholder)
- Complexity analysis uses scope-based detection (escalation triggers and quick-appropriate indicators are specific)
- Builder spawning uses Task tool with XML context matching established patterns
- Commit message format uses `[quick]` prefix per locked decision
- No mention of undo in post-task output per locked decision
- Vision and gameplan are NOT required (quick mode works on bare projects)
- Cost tracking passes goal "Quick task" to syncer
</verification>

<success_criteria>
- Quick skill is fully rewritten from 54-line placeholder to 180+ line execution pipeline
- All 6 FLEX requirements that touch quick mode (FLEX-01, FLEX-02, FLEX-03) are addressed
- Established patterns from build skill are followed (init check, uncommitted changes, builder spawning, XML context)
- All locked decisions from CONTEXT.md are honored (scope detection, [quick] prefix, no undo mention, explain-and-suggest for complex)
</success_criteria>

<output>
After completion, create `.planning/phases/07-quick-mode-ideas/07-01-SUMMARY.md`
</output>
