---
phase: 07-quick-mode-ideas
plan: "02"
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/idea/SKILL.md
  - scripts/init-director.sh
autonomous: true

must_haves:
  truths:
    - "Running /director:idea with no arguments prompts the user to provide an idea"
    - "Running /director:idea with text saves the idea to IDEAS.md instantly with a timestamp"
    - "New ideas appear at the TOP of the list (newest first), not appended at the bottom"
    - "Ideas are captured as-is with no reformatting, summarizing, or follow-up questions"
    - "The init script creates IDEAS.md with the correct format for newest-first insertion"
  artifacts:
    - path: "skills/idea/SKILL.md"
      provides: "Idea capture with newest-first insertion and as-is text preservation"
      min_lines: 40
    - path: "scripts/init-director.sh"
      provides: "Updated IDEAS.md template matching newest-first format"
      contains: "Ideas"
  key_links:
    - from: "skills/idea/SKILL.md"
      to: ".director/IDEAS.md"
      via: "Read file, insert new idea after header, write file back"
      pattern: "IDEAS.md"
---

<objective>
Rewrite the idea capture skill to use newest-first insertion in IDEAS.md and update the init script template to match the new format.

Purpose: The idea skill from Phase 1 appends ideas at the bottom of IDEAS.md. The new design requires newest-first ordering (most recent at top) so users see their latest thoughts first. The init script template also needs to match this format so new projects start with the correct structure.

Output: A rewritten `skills/idea/SKILL.md` with newest-first insertion mechanics and an updated `scripts/init-director.sh` with the matching IDEAS.md template.
</objective>

<execution_context>
@/Users/noahrasheta/.claude/get-shit-done/workflows/execute-plan.md
@/Users/noahrasheta/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-quick-mode-ideas/07-CONTEXT.md
@.planning/phases/07-quick-mode-ideas/07-RESEARCH.md

@skills/idea/SKILL.md
@scripts/init-director.sh
@reference/plain-language-guide.md
@reference/terminology.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite idea skill for newest-first insertion</name>
  <files>skills/idea/SKILL.md</files>
  <action>
Rewrite `skills/idea/SKILL.md` to implement newest-first idea capture. Keep the YAML frontmatter unchanged (name: idea, description, disable-model-invocation: true).

The skill follows this step structure:

**Step 1: Check for Director project**
- Same init check pattern: if `.director/` does not exist, run `bash ${CLAUDE_PLUGIN_ROOT}/scripts/init-director.sh` silently. Continue.

**Step 2: Check for an idea**
- Look at `$ARGUMENTS`. If empty, say: "What's your idea? Try: `/director:idea \"add dark mode support\"`"
- Stop if no arguments.

**Step 3: Capture the idea (newest-first insertion)**
- Read the current contents of `.director/IDEAS.md`.
- Determine the insertion point: new ideas go AFTER the header block (the `# Ideas` heading and the italic description line `_Captured ideas..._`) and BEFORE any existing ideas.
- The insertion mechanic:
  1. Read the file content.
  2. Find the line that starts with `_Captured ideas` (the description line). The new idea goes on the NEXT line after this.
  3. Insert a blank line (if not already present) followed by the new idea line.
  4. Write the file back.
- New idea format: `- **[YYYY-MM-DD HH:MM]** -- [the idea text from $ARGUMENTS, captured exactly as typed]`
- IMPORTANT: Capture the idea text EXACTLY as the user typed it. No reformatting, no summarizing, no editing, no adding periods or capitalizing. If they typed "maybe add a search bar idk" then save "maybe add a search bar idk".
- Use the current date/time for the timestamp.
- Write the updated file.

**Step 4: Confirm capture**
- Say: "Got it -- saved to your ideas list."
- Do NOT ask follow-up questions about the idea.
- Do NOT suggest acting on it.
- Do NOT offer to analyze complexity.
- The confirmation is a single line. Ideas are about zero-friction capture.

Include `$ARGUMENTS` at the end of the file.

**Key constraints:**
- No follow-up questions at capture time (locked decision: ideas captured as-is)
- Newest first (locked decision: flat chronological list, newest first)
- Ideas can be any length (locked decision: one-line thoughts or multi-paragraph musings)
- The skill does NOT need to handle idea removal -- that is the `/director:ideas` skill's job
  </action>
  <verify>
Read `skills/idea/SKILL.md` and verify:
1. YAML frontmatter preserved (name: idea, disable-model-invocation: true)
2. Step 1 has init check
3. Step 2 checks $ARGUMENTS
4. Step 3 reads IDEAS.md, finds insertion point after header, inserts new idea BEFORE existing ideas
5. Idea format uses `- **[YYYY-MM-DD HH:MM]** -- [text]`
6. Text captured exactly as typed (explicit instruction to not reformat)
7. Step 4 is a single-line confirmation with no follow-up questions
8. $ARGUMENTS at end
  </verify>
  <done>
The idea skill captures ideas with newest-first insertion, preserving the user's exact text with a timestamp, and confirms with a single line.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update init script IDEAS.md template</name>
  <files>scripts/init-director.sh</files>
  <action>
Update the IDEAS.md template in `scripts/init-director.sh` to match the newest-first format that the rewritten idea skill expects.

The current template is:
```
# Ideas

_Captured ideas that aren't in the gameplan yet. Add with `/director:idea "..."`_
```

This is actually already correct for the newest-first format -- the header and description line are the anchor points for insertion. The idea skill inserts new ideas after the description line. No changes needed to the template content itself.

However, verify that the template content matches what the idea skill expects as its insertion anchor. The description line must start with `_Captured ideas` for the skill to find the insertion point.

If the template already matches (which it should based on the current init-director.sh), confirm no changes are needed and note this in the commit message. If any discrepancy exists, fix the template to match.

**One actual change to make:** Add a blank line after the description line in the template, so the file looks like:
```
# Ideas

_Captured ideas that aren't in the gameplan yet. Add with `/director:idea "..."`_

```
(trailing blank line after the description)

This ensures the first idea insertion doesn't need to handle the edge case of no blank line between the description and the first idea. The blank line acts as a clean separator.
  </action>
  <verify>
Read `scripts/init-director.sh` and check the IDEAS.md heredoc:
1. Header is `# Ideas`
2. Description line starts with `_Captured ideas`
3. Description mentions `/director:idea "..."`
4. There is a blank line after the description line (before the heredoc EOF)
5. No other changes to the init script beyond the IDEAS.md template
  </verify>
  <done>
The init script's IDEAS.md template matches the format expected by the rewritten idea skill, with proper header and description anchor lines for newest-first insertion.
  </done>
</task>

</tasks>

<verification>
- `skills/idea/SKILL.md` implements newest-first insertion (not append)
- The insertion point is anchored to the `_Captured ideas` description line
- Ideas are captured exactly as typed (no reformatting)
- Confirmation is a single line with no follow-up questions
- `scripts/init-director.sh` IDEAS.md template has matching anchor lines
- No other files in the init script were changed
</verification>

<success_criteria>
- Idea skill captures ideas at the TOP of the list (newest first) per locked decision
- Ideas preserved as-is with timestamps per locked decision
- Zero-friction capture: single confirmation line, no follow-ups per locked decision
- Init template and skill use the same anchor pattern for insertion
- Requirements FLEX-10 and FLEX-11 addressed
</success_criteria>

<output>
After completion, create `.planning/phases/07-quick-mode-ideas/07-02-SUMMARY.md`
</output>
