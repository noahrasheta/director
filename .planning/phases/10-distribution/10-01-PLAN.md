---
phase: 10-distribution
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude-plugin/marketplace.json
  - .claude-plugin/plugin.json
  - CHANGELOG.md
  - marketplace.json
autonomous: true

must_haves:
  truths:
    - "A valid marketplace.json exists at .claude-plugin/marketplace.json with the official schema"
    - "plugin.json and marketplace.json both show version 1.0.0"
    - "The old marketplace.json at the repo root no longer exists"
    - "CHANGELOG.md reflects the 1.0.0 release with all features from Phases 1-9"
  artifacts:
    - path: ".claude-plugin/marketplace.json"
      provides: "Official marketplace manifest for Claude Code plugin discovery"
      contains: "\"name\": \"director-marketplace\""
    - path: ".claude-plugin/plugin.json"
      provides: "Plugin identity with 1.0.0 version"
      contains: "\"version\": \"1.0.0\""
    - path: "CHANGELOG.md"
      provides: "User-readable release history"
      contains: "## 1.0.0"
  key_links:
    - from: ".claude-plugin/marketplace.json"
      to: ".claude-plugin/plugin.json"
      via: "version field must match"
      pattern: "\"version\": \"1\\.0\\.0\""
    - from: ".claude-plugin/marketplace.json"
      to: "noahrasheta/director"
      via: "GitHub source reference"
      pattern: "\"source\": \"github\""
---

<objective>
Fix the marketplace manifest to match the official Claude Code marketplace schema, bump version to 1.0.0, and finalize the changelog for first release.

Purpose: The existing marketplace.json is at the wrong location (repo root instead of .claude-plugin/) and uses an incorrect schema (schema_version instead of name/owner/plugins). This is the single most important fix for distribution -- without it, Claude Code cannot discover or install Director.
Output: Correct marketplace.json at .claude-plugin/marketplace.json, plugin.json at 1.0.0, CHANGELOG.md updated, old marketplace.json removed.
</objective>

<execution_context>
@/Users/noahrasheta/.claude/get-shit-done/workflows/execute-plan.md
@/Users/noahrasheta/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-distribution/10-CONTEXT.md
@.planning/phases/10-distribution/10-RESEARCH.md
@.claude-plugin/plugin.json
@marketplace.json
@CHANGELOG.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix marketplace manifest and bump versions to 1.0.0</name>
  <files>.claude-plugin/marketplace.json, .claude-plugin/plugin.json, marketplace.json</files>
  <action>
Create `.claude-plugin/marketplace.json` with the CORRECT official schema. The existing marketplace.json at the repo root uses the WRONG schema (has `schema_version` instead of `name`/`owner`/`plugins` with proper structure). The correct schema is:

```json
{
  "name": "director-marketplace",
  "description": "Plugin marketplace for Director -- orchestration for vibe coders",
  "owner": {
    "name": "Noah Rasheta"
  },
  "plugins": [
    {
      "name": "director",
      "description": "Opinionated orchestration for vibe coders. Guides the entire build process from idea to working product -- from capturing your vision, to planning your build, to verifying it works.",
      "version": "1.0.0",
      "author": {
        "name": "Noah Rasheta"
      },
      "source": {
        "source": "github",
        "repo": "noahrasheta/director"
      },
      "homepage": "https://director.cc",
      "repository": "https://github.com/noahrasheta/director",
      "license": "MIT",
      "keywords": ["orchestration", "vibe-coding", "workflow", "planning", "ai-agents"],
      "category": "productivity"
    }
  ]
}
```

Key differences from the old file:
- Top-level `name` and `owner` fields (required by official schema)
- `source.source` is `"github"` with `source.repo` (not `source.type` with `source.url`)
- `author` is an object `{"name": "..."}` (not a string)
- Description is vibe-coder focused: leads with audience and outcomes per user decision
- Version bumped to 1.0.0 per user decision

Update `.claude-plugin/plugin.json` to version 1.0.0 (change `"version": "0.1.0"` to `"version": "1.0.0"`). Keep all other fields the same.

Delete the old `marketplace.json` from the repo root (it will be replaced by `.claude-plugin/marketplace.json`).
  </action>
  <verify>
Verify `.claude-plugin/marketplace.json` exists and contains valid JSON with `name`, `owner`, `plugins` fields. Verify `plugins[0].version` is "1.0.0". Verify `plugins[0].source.source` is "github". Verify `.claude-plugin/plugin.json` has version "1.0.0". Verify the old `marketplace.json` at repo root no longer exists.
  </verify>
  <done>marketplace.json at correct location with correct schema, both manifests at version 1.0.0, old marketplace.json removed</done>
</task>

<task type="auto">
  <name>Task 2: Update CHANGELOG.md for 1.0.0 release</name>
  <files>CHANGELOG.md</files>
  <action>
Rewrite CHANGELOG.md to reflect the 1.0.0 release. The current file shows "0.1.0 (Unreleased)" with only Phase 1 features listed. Update it to:

1. Change version header from `## 0.1.0 (Unreleased)` to `## 1.0.0`
2. Add the release date: `## 1.0.0 (2026-02-09)` (today's date)
3. Expand the Added section to cover ALL features from Phases 1-9. Group by capability area for readability. Use plain language (this is user-facing). Include:

**Core Workflow:**
- Interview-based onboarding for new and existing projects (greenfield and brownfield)
- Vision document generation from guided conversation
- Gameplan creation with goals, steps, and tasks
- Fresh-context task execution with automatic progress saving
- Three-tier verification: structural checks, behavioral checklists, and auto-fix
- Progress tracking with visual status display
- Session resume with context restoration after breaks
- Cost tracking per goal, step, and task

**Flexibility:**
- Quick mode for fast changes without full planning
- Idea capture and management
- Mid-project pivot with impact analysis and delta updates
- Open-ended brainstorming with full project context

**Intelligence:**
- Context-aware command routing (every command redirects when invoked out of sequence)
- Inline text support for all commands (focus or accelerate any interaction)
- Plain-language error messages (what went wrong, why, what to do)
- Undo capability for reverting the last task
- 12 slash commands and 8 specialized agents

**Distribution:**
- Self-hosted plugin marketplace
- One-command installation via Claude Code

Keep the format consistent with Keep a Changelog conventions. Do NOT include a "## 0.1.0" section -- this is the first release.
  </action>
  <verify>
Verify CHANGELOG.md contains `## 1.0.0` header with today's date. Verify it lists features across all capability areas. Verify no reference to "0.1.0" or "Unreleased" remains.
  </verify>
  <done>CHANGELOG.md documents the full 1.0.0 release with all features from Phases 1-9 grouped by capability</done>
</task>

</tasks>

<verification>
- `cat .claude-plugin/marketplace.json | python3 -c "import sys,json; d=json.load(sys.stdin); assert d['name']=='director-marketplace'; assert d['plugins'][0]['version']=='1.0.0'; assert d['plugins'][0]['source']['source']=='github'; print('OK')"` exits 0
- `cat .claude-plugin/plugin.json | python3 -c "import sys,json; d=json.load(sys.stdin); assert d['version']=='1.0.0'; print('OK')"` exits 0
- `test ! -f marketplace.json && echo "Old file removed"` prints "Old file removed"
- `grep '## 1.0.0' CHANGELOG.md` finds the version header
</verification>

<success_criteria>
- marketplace.json is at .claude-plugin/marketplace.json with the official schema (name, owner, plugins)
- Both plugin.json and marketplace.json show version 1.0.0
- The old marketplace.json at repo root is deleted
- CHANGELOG.md reflects the full 1.0.0 release covering Phases 1-9
</success_criteria>

<output>
After completion, create `.planning/phases/10-distribution/10-01-SUMMARY.md`
</output>
